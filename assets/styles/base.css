@layer theme {

    /*noinspection CssInvalidFunction*/
    :root {
        @view-transition {
            navigation: auto;
        }

        color-scheme: normal;
        /* Due to chrome bug color-scheme: normal doesn't work*/
        @media (prefers-color-scheme: dark) {
            color-scheme: dark;
        }
        --ratio: 1.5;
        --font-size-base: calc(1rem + 0.20vw);
        --font-size-large: calc(var(--font-size-base) * pow(var(--ratio), 3));
        --font-size-big: calc(var(--font-size-base) * pow(var(--ratio), 2));
        --font-size-bigish: calc(var(--font-size-base) * pow(var(--ratio), 1));
        --font-size-medium: calc(var(--font-size-base) * pow(var(--ratio), 0));
        --font-size-small: calc(var(--font-size-base) / pow(var(--ratio), 1));

        font-size: var(--font-size-base);
        --line-height-regular: 1.5;
        --text-size-title: 4.5rem;
        --line-height-title: 1;
        --text-subtitle: 3.75rem;
        --container-box: 60ch;


        --radius-md: 0.375rem;
        --radius-box: 1rem;
        --container-6xl: calc(60rem + 0.5rem);

        --hover-decoration: wavy;
        --border-width: calc(var(--spacing));
        --border-style: dashed;

        --spacing: calc(0.25rem);


        --color-black: oklch(0 0 0);
        --color-white: oklch(1 0 89.876);

        --color-purple-light: oklch(82.7% 0.119 306.383);
        --color-purple: oklch(49.6% 0.265 301.924);
        --color-purple-dark: oklch(38.1% 0.176 304.987);

        --color-orange-light: oklch(92.4% 0.12 95.746);
        --color-orange: oklch(76.9% 0.188 70.08);

        --color-blue-light: oklch(88.2% 0.059 254.128);
        --color-blue: oklch(70.7% 0.165 254.624);
        --color-blue-reallydark: oklch(18.113% 0.04675 246.17);

        --color-grey-light: oklch(87.2% 0.01 258.338);
        --color-grey-dark: oklch(27.4% 0.006 286.033);
        --color-grey-reallylight: oklch(92.8% 0.006 264.531);



        --color-primary: light-dark(var(--color-purple), var(--color-purple-light));
        --color-text: light-dark(var(--color-blue-reallydark), var(--color-grey-light));
        --color-background: light-dark(var(--color-grey-reallylight), var(--color-grey-dark));
        --color-secondary-background: light-dark(var(--color-grey-light), var(--color-blue-reallydark));


        --color-link: var(--color-primary);
        --acolor-link-hover: light-dark(oklch(38.1% 0.176 304.987), oklch(62.7% 0.265 303.9));
        --color-link-hover: light-dark(color-mix(in oklab, var(--color-link) 50%, var(--color-purple-dark)), color-mix(in oklab, var(--color-link) 70%, var(--color-purple-dark)));

        --color-button-hover: var(--color-primary);
        --color-button: light-dark(var(--color-grey-light), var(--color-blue-reallydark));

        --color-muted-text: light-dark(oklch(37.3% 0.034 259.733), oklch(87.2% 0.01 258.338));

        --color-selection-background: light-dark(var(--color-blue-reallydark), var(--color-grey-light));
        --color-selection: light-dark(var(--color-white), var(--color-black));

        --color-code-background: var(--color-blue-reallydark);
        --color-code: var(--color-grey-light);
        --color-code-selection-background: var(--color-grey-reallylight);
        --color-code-selection: var(--color-black);

        /* Speedify color */
        --_circle: var(--color-primary);


        /* Callout Boxes */
        --color-callout-warning: light-dark(var(--color-black), var(--color-black));
        --color-callout-background-warning: light-dark(var(--color-orange), var(--color-orange-light));
        --color-callout-danger: light-dark(var(--color-black), var(--color-black));
        --color-callout-background-danger: light-dark(oklch(80.8% 0.114 19.571), oklch(93.6% 0.032 17.717));
        --color-callout-info: light-dark(var(--color-black), var(--color-black));
        --color-callout-background-info: light-dark(var(--color-blue), var(--color-blue-light));


        --diff-add: oklch(79.2% 0.209 151.711);
        --diff-remove: oklch(63.7% 0.237 25.331);



    }
}

@layer theme-legacy {
    :root {
        /* Right now (2025-10-28) light-dark() is still new to baseline */
        /*noinspection CssInvalidFunction*/
        @supports not (color: light-dark(red, blue)) {
            --color-background: #e5e7eb;
            --color-text: #101828;
            --color-muted-text: #364153;
            --color-selection-background: #101828;
            --color-selection: #ffffff;
            --color-link: #8200db;
            --color-link-hover: #59168b;
            --color-secondary-background: #d1d5dc;

            --color-button: #d1d5dc;
            --color-button-hover: var(--color-link);

            @media (prefers-color-scheme: dark) {
                --color-background: #27272a;
                --color-text: #d1d5dc;
                --color-muted-text: #d1d5dc;
                --color-link: #dab2ff;
                --color-link-hover: #ad46ff;
                --color-selection-dark: #000000;
                --color-selection-background: #e5e7eb;
                --color-secondary-background: #0f172b;
                --color-button: #000000;
                --color-button-hover: #dab2ff;
            }
            --color-callout-warning: #000000;
            --color-callout-background-warning: #fe9a00;
            --color-callout-danger: #000000;
            --color-callout-background-danger: #ffa2a2;
            --color-callout-info: #000000;
            --color-callout-background-info: #51a2ff;


            @media (prefers-color-scheme: dark) {
                --color-callout-warning: #000000;
                --color-callout-background-warning: #fee685;
                --color-callout-danger: #000000;
                --color-callout-background-danger: #ffe2e2;
                --color-callout-info: #000000;
                --color-callout-background-info: #bedbff;

            }

        }
    }
}

@font-face {
    font-family: "Bagnard";
    font-style: normal;
    font-weight: 200 700;
    font-display: swap;
    src: url("/assets/fonts/Bagnard.woff2") format('woff2');
}

@font-face {
    font-family: "Adwaita Sans";
    font-style: normal;
    font-weight: 200 700;
    font-display: swap;
    src: url("/assets/fonts/AdwaitaSans-Regular.subset.woff2") format("woff2");
}

.box {
    border: var(--border-width) var(--border-style);
    border-radius: var(--radius-box);

}

.stack {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
}

.box.separated > * + * {
    padding-block: 1rem;
    margin-block: 0;
    border-block-start-style: var(--border-style);
    border-block-start-width: var(--border-width);
    border-radius: var(--radius-md);
}

.box > * {
    margin-block: 1rem;
}

.box  > * {
    padding-inline: calc(var(--spacing) * 5);
}

[class^='stack'] > * {
    margin-block: 0;
}

.stack-small > * + * {
    margin-block-start: 0.5rem;
}

.stack-large > * + * {
    margin-block-start: 3rem;
}

.stack > * + * {
    margin-block-start: 1rem;
}

.cluster {
    list-style: none;
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
}

.switcher {

    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    --threshold: 30rem;
}

.switcher > * {
    flex-grow: 1;
    flex-basis: calc((var(--threshold) - 100%) * 999);
}

line-numbers {
    font-family: monospace;
    line-height: var(--line-height-regular);
    display: flex;
    --uln-padding-v: 1em;
    --uln-padding-h: 0.5em;
    width: 100%;
}

article pre {
    white-space: pre;
    overflow: auto;
    width: 100%;
    max-width: 50rem;
    line-height: var(--line-height-regular);
    border-radius: var(--radius-box);
    color: var(--color-code);
    background-color: var(--color-code-background);
}

article pre > code {
    scrollbar-color: var(--color-code) var(--color-code-background);
    overflow: auto;
    display: block;
    padding-inline: calc(var(--spacing) * 6);
    padding-block: 1em;

 /*   max-height: 500px; */




}

pre > code::selection, pre > code *::selection{
    background-color: var(--color-code-selection-background);
    color: var(--color-code-selection);

}

code[class*="language-"],
pre[class*="language-"] {
    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;
    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
}

/* Code blocks */

pre[class*="language-"] {

}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
}

/* Inline code */

:not(pre) > code[class*="language-"] {
    padding: .1em;
    border-radius: .3em;
    white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
    color: slategray;
}

.token.punctuation {
    color: #f8f8f2;
}

.token.namespace {
    opacity: .7;
}

.token.property,
.token.tag,
.token.constant,
.token.symbol,
.token.deleted {
    color: #f92672;
}

.token.boolean,
.token.number {
    color: #ae81ff;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
    color: #a6e22e;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string,
.token.variable {
    color: #f8f8f2;
}

.token.atrule,
.token.attr-value,
.token.function,
.token.class-name {
    color: #e6db74;
}

.token.keyword {
    color: #66d9ef;
}

.token.regex,
.token.important {
    color: #fd971f;
}

.token.important,
.token.bold {
    font-weight: bold;
}

.token.italic {
    font-style: italic;
}

.token.entity {
    cursor: help;
}

.token.deleted {
    background-color: color-mix(in oklab, var(--diff-remove) 30%, transparent);
}

.token.inserted {
    background-color: color-mix(in oklab, var(--diff-add) 30%, transparent);
}

/* Make the + and - characters unselectable for copy/paste */

.token.prefix.unchanged,
.token.prefix.inserted,
.token.prefix.deleted {
    -webkit-user-select: none;
    padding-inline-end: calc(var(--spacing) * 1);
    user-select: none;
    background-color: transparent;
}

/* Optional: full-width background color */

.token.inserted:not(.prefix),
.token.deleted:not(.prefix) {
    min-width: 100%;
    display: inline;
}

.content{
    display: flex;
    align-items: center;
    justify-content: center;
    margin-inline: calc(var(--spacing)*6);
}

.content article {
    box-sizing: content-box;
    max-width: 70ch;
    overflow-wrap: break-word;
    width: 100%;
    margin-block: calc(var(--spacing)*6);

}

table:before {
    overflow-x: auto;
}

table {
    margin-inline: auto;
    border-collapse: collapse;

}

hr {
    background-color: var(--color-text);
    block-size: 0.2em;
    inline-size: 90%;
}

td, th {
    padding: calc(var(--spacing)*4);
    border: calc(var(--border-width)/2) solid var(--color-text);
    text-align: center;
    overflow-wrap: break-word;

}

th {
    background-color: var(--color-secondary-background);
}

.webfavicon {
    box-sizing: content-box;
    inline-size: 1.2em;
    block-size: 1.2em;
    border-radius: 1rem;
    margin-inline-end: var(--spacing);
}

speedlify-score {
    height: 1rem;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: center;
    padding-bottom: calc(var(--spacing) * 12);

    @media (width >= 25rem /* 1024px */) {
        padding-bottom: calc(var(--spacing) * 7);

    }

    --_circle: var(--color-link);

    &:hover {
        --_circle: var(--color-link-hover);

    }
}

.bloglist {
    display: flex;
    justify-content: center;
    max-width: 50rem;
    gap: calc(var(--spacing) * 5);

}

.blogpost > picture > img {
    aspect-ratio: 16/9;
    align-self: center;
    max-inline-size: 100%;
    block-size: 100%;
    object-fit: contain;
    border-radius: var(--radius-box);
    -webkit-user-select: none;
    user-select: none;
}

.blogpost.switcher {
    --treshold: 20rem;
}

.blogpost > picture {
    align-self: center;
    justify-self: center;
}

.blogpost.switcher > picture  {
    display: flex;
    justify-content: center;
}

.blogpost.switcher > div {
    flex-grow: 3;
}

.blogpost > div > p {
    font-size: var(--font-size-small);
}

.blogpost .title {
    text-align: left;
    font-size: var(--font-size-medium);
    line-height: var(--line-height-title);
    font-weight: bold;
}

* {
    box-sizing: border-box;
}

html {
    scrollbar-color: var(--color-primary) var(--color-background);
    color: var(--color-text);
    background-color: var(--color-background);

    &::selection {
    color: var(--color-selection);
    background-color: var(--color-selection-background);
    }

    @media (prefers-color-scheme: dark) {
    color: var(--color-text);
    background-color: var(--color-background);

        &::selection {
        color: var(--color-selection);
        background-color: var(--color-selection-background);
        }

    }

}

body {
    margin: 0;
    display: block;
    font-family: "Adwaita Sans", sans-serif;
}

footer {
    width: 100%;
    justify-content: center;
    display: flex;
    margin: auto;
    position: absolute;
    bottom: 0;
    text-align: center;
    border-top: var(--border-width) var(--border-style);
    justify-self: center;
    padding-block: calc(var(--spacing) * 10);

    color: var(--color-muted-text);
    background-color: var(--color-secondary-background);

    @media (prefers-color-scheme: dark) {
    color: var(--color-muted-text) ;
    background-color: var(--color-secondary-background);

    }
}

h1 {
    font-size: var(--font-size-large);
    font-family: Bagnard, serif;
}

h2 {
    font-size: var(--font-size-big);
}

h3 {
    font-size: var(--font-size-bigish);
}

h4,h5,h6 {
    font-size: var(--font-size-medium);
}

h5 {
    font-weight: 500;
}

h6 {
    font-weight: 300;
}

ul {
    padding: 0;
    margin-inline-start: calc(var(--spacing) * 5);
    list-style: disc;
}

h1, h2, h3 {
    max-inline-size: 60ch;
}

p, li, ul, dd, dt {
    line-height: var(--line-height-regular);
    overflow-wrap: break-word;

}

dl,ul {
    margin-block: 0;
}

dt:before {
    content: "â€¢ ";
}

a {
    color: var(--color-link);
    text-decoration: underline;
    &:hover {
        @media (hover: hover) {

        color: var(--color-link-hover);
            text-decoration-skip-ink: none;
            text-decoration-line: underline;
            text-decoration-style: var(--hover-decoration);
        }
   }

}

nav#navbar {
    background-image: url(/assets/img/noise.webp);
    border-bottom: var(--border-width) var(--border-style);
    padding: calc(var(--spacing)*4);
    background-color: var(--color-secondary-background);
    font-size: var(--font-size-medium);

    @media (prefers-color-scheme: dark) {
        background-color: var(--color-secondary-background);
    }
}

nav#navbar ul{

    margin-inline-start: 0;
}

.textured-background {
    background-image: url(/assets/img/noise.webp);
    background-repeat: repeat;
}

.grid {
    display: grid;
}

.flex {
    display: flex;
}

.icon {
    width: 1em;
    height: 1em;
    display: inline-block;
    vertical-align: center;
    box-sizing: content-box;

}

h2 .icon {
    width: 0.75em;
    height: 0.75em;
    padding-inline-end: calc(var(--spacing) *2);
}

.responsive-table {
    overflow-x: auto;
    margin-block: calc(var(--spacing)*5);
}